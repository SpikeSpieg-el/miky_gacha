# README: Проблема с поломанной стаминой у персонажей

## Описание проблемы
У персонажей в игре наблюдается некорректное поведение стамины (выносливости). Это может проявляться в следующих сценариях:
- Стамина не восстанавливается со временем.
- Стамина тратится непропорционально действиям.
- Значение стамины может становиться отрицательным или превышать максимальное.

## Причины
1. **Ошибки в логике восстановления стамины**:
   - Возможно, функция `updateStamina` не вызывается регулярно или содержит ошибки в расчетах.
2. **Некорректное использование стамины**:
   - Функции, которые тратят стамину (например, `useStamina`), могут вычитать неправильное количество.
3. **Конфликты переменных**:
   - Глобальные переменные, связанные со стаминой, могут перезаписываться или дублироваться.

## Решение
1. **Проверить функцию `updateStamina`**:
   - Убедиться, что она вызывается через определенные интервалы (например, с помощью `setInterval`).
   - Проверить формулу восстановления стамины (должна учитывать время и другие модификаторы).

2. **Исправить функции использования стамины**:
   - Убедиться, что функции `useStamina` корректно проверяют текущее значение стамины перед вычитанием.
   - Добавить проверки на минимальное и максимальное значение стамины.

3. **Устранить дублирование переменных**:
   - Объявить все переменные, связанные со стаминой, в одном месте (например, в начале `script.js`).
   - Использовать `let` или `const` вместо `var` для избежания поднятия переменных.

## Тестирование
1. Запустить игру и проверить:
   - Восстанавливается ли стамина со временем.
   - Корректно ли тратится стамина при выполнении действий.
   - Не появляются ли аномальные значения (отрицательные или сверхмаксимальные).

2. Использовать консоль разработчика (F12) для отслеживания:
   - Вызовов функций `updateStamina` и `useStamina`.
   - Изменений значений переменных стамины.

## Дополнительные рекомендации
- Добавить логирование для отслеживания изменений стамины в реальном времени.
- Проверить связанные системы (например, баффы/дебаффы), которые могут влиять на стамину.

Если проблема сохраняется, предоставьте больше деталей (например, код функций, связанных со стаминой), чтобы можно было провести более глубокий анализ.
